{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,kBAEtCF,EAAOG,iBAAiB,QAASC,EAAAN,GAAEO,UAgBnC,SAAqBC,GACnBC,EAAUD,EAAEE,OAAOC,MAAQH,EAAEE,OAAOE,MAAMC,OAC1CC,aAAaC,QAnBE,sBAmBgBC,KAAKC,UAAUR,G,GAlBS,MACzDP,EAAOG,iBAAiB,UAMxB,SAAkBG,GAChBA,EAAEU,iBAEFC,QAAQC,IAAIX,GACZA,EAAY,GACZD,EAAEE,OAAOW,QACTP,aAAaQ,WAdE,sB,IAIjB,IAAIb,EAAY,IAkBhB,WACE,IACE,MAAMc,EAAYT,aAAaU,QAxBlB,uBAyBb,IAAKD,EAAW,OAChBd,EAAYO,KAAKS,MAAMF,GAEvBG,OAAOC,QAAQlB,GAAWmB,SAAQ,EAAEC,EAAKC,MACvC5B,EAAO6B,SAASF,GAAKjB,MAAQkB,CAAG,G,CAElC,MAAOE,GACPb,QAAQC,IAAIY,EAAMC,Q,EA1BtBC","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst formEl = document.querySelector('.feedback-form');\nconst FORM_KEY = 'feedback-form-state';\nformEl.addEventListener('input', _.throttle(inputMemory, 500));\nformEl.addEventListener('submit', onSubmit);\n\nlet formState = {};\n\nsetFromLocal();\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  console.log(formState);\n  formState = {};\n  e.target.reset();\n  localStorage.removeItem(FORM_KEY);\n}\n\nfunction inputMemory(e) {\n  formState[e.target.name] = e.target.value.trim();\n  localStorage.setItem(FORM_KEY, JSON.stringify(formState));\n}\n\nfunction setFromLocal() {\n  try {\n    const savedData = localStorage.getItem(FORM_KEY);\n    if (!savedData) return;\n    formState = JSON.parse(savedData);\n\n    Object.entries(formState).forEach(([key, val]) => {\n      formEl.elements[key].value = val;\n    });\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","addEventListener","$parcel$interopDefault","throttle","e","$945622fd0f572e60$var$formState","target","name","value","trim","localStorage","setItem","JSON","stringify","preventDefault","console","log","reset","removeItem","savedData","getItem","parse","Object","entries","forEach","key","val","elements","error","message","$945622fd0f572e60$var$setFromLocal"],"version":3,"file":"03-feedback.27507f17.js.map"}